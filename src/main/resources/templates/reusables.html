<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<!-- Fragmentos reutilizables -->

<!-- Header para visitantes -->
<div th:fragment="header">
    <nav class="navbar navbar-expand-lg navbar-light bg-white sticky-top shadow-sm">
        <div class="container">
            <a class="navbar-brand d-flex align-items-center fw-bold text-primary" th:href="@{/inicio}">
                <img th:src="@{${logoPath}}" alt="Logo" class="me-2"
                    style="height: 40px; width: auto; object-fit: contain;">
                <span th:text="${siteName}">Servicios Moroni SCRL</span>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto mb-2 mb-lg-0 text-left">
                    <li class="nav-item">
                        <a class="nav-link" th:href="@{/inicio}"
                            th:classappend="${currentPage == 'inicio'} ? 'active text-danger fw-bold' : 'text-primary'">Inicio</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" th:href="@{/galeria}"
                            th:classappend="${currentPage == 'galeria'} ? 'active text-danger fw-bold' : 'text-primary'">Galería</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" th:href="@{/empresa}"
                            th:classappend="${currentPage == 'empresa'} ? 'active text-danger fw-bold' : 'text-primary'">La
                            Empresa</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" th:href="@{/servicios}"
                            th:classappend="${currentPage == 'servicios'} ? 'active text-danger fw-bold' : 'text-primary'">Servicios</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" th:href="@{/contacto}"
                            th:classappend="${currentPage == 'contacto'} ? 'active text-danger fw-bold' : 'text-primary'">Contacto</a>
                    </li>
                </ul>
                <div class="dropdown ms-lg-3 mt-2 mt-lg-0 text-center text-lg-start d-flex justify-content-start">
                    <button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton"
                        data-bs-toggle="dropdown" aria-expanded="false">
                        Cuenta
                    </button>
                    <ul class="dropdown-menu dropdown-menu-start text-center justify-content-start"
                        aria-labelledby="dropdownMenuButton">
                        <li><a class="dropdown-item" th:href="@{/login}"
                                th:classappend="${currentPage == 'login'} ? 'active text-danger fw-bold' : ''">Iniciar
                                Sesión</a></li>
                        <li><a class="dropdown-item" th:href="@{/clientes/register}"
                                th:classappend="${currentPage == 'register'} ? 'active text-danger fw-bold' : ''">Registrarse</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </nav>
</div>

<!-- Header para usuarios logueados -->
<div th:fragment="header-usuario">
    <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm sticky-top">
        <div class="container">
            <!-- Logo y nombre -->
            <a class="navbar-brand d-flex align-items-center fw-bold text-primary" th:href="@{/perfil}">
                <img th:src="@{/img/logo.png}" alt="Logo" class="me-2"
                    style="height: 40px; width: auto; object-fit: contain;">
                Servicios Moroni S.C.R.L.
            </a>

            <!-- Botón responsive -->
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarUserNav"
                aria-controls="navbarUserNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <!-- Menú de navegación -->
            <div class="collapse navbar-collapse" id="navbarUserNav">
                <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link" th:href="@{/perfil}"
                            th:classappend="${currentPage == 'perfil'} ? 'active text-danger fw-bold' : 'text-primary'">
                            <i class="bi bi-person-circle"></i> Mi Perfil
                        </a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link" th:href="@{/proyectos}"
                            th:classappend="${currentPage == 'proyectos'} ? 'active text-danger fw-bold' : 'text-primary'">
                            <i class="bi bi-folder2-open"></i> Mis Proyectos
                        </a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link" th:href="@{/proyectos/solicitar }"
                            th:classappend="${currentPage == 'solicitar'} ? 'active text-danger fw-bold' : 'text-primary'">
                            <i class="bi bi-plus-circle"></i> Solicitar Proyecto
                        </a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link" th:href="@{/seguimiento}"
                            th:classappend="${currentPage == 'seguimiento'} ? 'active text-danger fw-bold' : 'text-primary'">
                            <i class="bi bi-graph-up"></i> Seguimiento
                        </a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link" th:href="@{/incidencias}"
                            th:classappend="${currentPage == 'incidencias'} ? 'active text-danger fw-bold' : 'text-primary'">
                            <i class="bi bi-exclamation-triangle"></i> Incidencias
                        </a>
                    </li>
                </ul>

                <!-- Botón cerrar sesión -->
                <div class="ms-lg-3 mt-2 mt-lg-0">
                    <a th:href="@{/inicio}" class="btn btn-outline-danger btn-sm">
                        <i class="bi bi-box-arrow-right"></i> Cerrar Sesión
                    </a>
                </div>
            </div>
        </div>
    </nav>
</div>

<!-- Footer para usuarios -->
<div th:fragment="footer_usuario">
    <footer class="bg-dark text-light py-4">
        <div class="container">
            <div class="row">
                <div class="col-lg-4 mb-4 mb-lg-0">
                    <h5 class="fw-bold mb-3">Servicios Moroni SCRL</h5>
                    <p>Panel de usuario para gestionar proyectos, incidencias y seguimiento en tiempo real.</p>
                </div>
                <div class="col-lg-4 mb-4 mb-lg-0">
                    <h5 class="fw-bold mb-3">Enlaces rápidos</h5>
                    <ul class="list-unstyled">
                        <li class="mb-2"><a th:href="@{/perfil}" class="text-light text-decoration-none">Perfil</a></li>
                        <li class="mb-2"><a th:href="@{/proyectos}" class="text-light text-decoration-none">Mis
                                Proyectos</a></li>
                        <li class="mb-2"><a th:href="@{/solicitar}" class="text-light text-decoration-none">Solicitar
                                Proyecto</a></li>
                        <li class="mb-2"><a th:href="@{/seguimiento}"
                                class="text-light text-decoration-none">Seguimiento</a></li>
                        <li class="mb-2"><a th:href="@{/incidencias}"
                                class="text-light text-decoration-none">Incidencias</a></li>
                    </ul>
                </div>
                <div class="col-lg-4">
                    <h5 class="fw-bold mb-3">Soporte</h5>
                    <p><i class="bi bi-envelope me-2"></i> soporte@serviciosmoroni.com</p>
                    <h5 class="fw-bold mb-3">Contáctenos</h5>
                    <p><i class="bi bi-telephone me-2"></i> 924 353 323</p>
                    <div class="d-flex social-icons mt-3">
                        <a href="https://www.facebook.com/profile.php?id=61555686907576" target="_blank"
                            rel="noopener noreferrer" class="text-light me-3">
                            <i class="bi bi-facebook fs-4"></i>
                        </a>
                        <a href="https://www.instagram.com/" target="_blank" rel="noopener noreferrer"
                            class="text-light me-3">
                            <i class="bi bi-instagram fs-4"></i>
                        </a>
                        <a href="https://www.linkedin.com/in/julio-nunja-alfaro-b2905b1b9/" target="_blank"
                            rel="noopener noreferrer" class="text-light">
                            <i class="bi bi-linkedin fs-4"></i>
                        </a>
                    </div>
                </div>
            </div>
            <hr class="my-4">
            <div class="text-center">
                <p class="mb-0">Servicios Moroni SCRL - Panel de Usuario © 2025</p>
            </div>
        </div>
    </footer>
</div>

<!-- Footer general -->
<div th:fragment="footer_general">
    <footer class="bg-dark text-light py-4">
        <div class="container">
            <div class="row">
                <div class="col-lg-4 mb-4 mb-lg-0">
                    <h5 class="fw-bold mb-3">Servicios Moroni SCRL</h5>
                    <p>Empresa especializada en servicios de limpieza profesional y mantenimiento para instituciones
                        públicas y privadas.</p>
                </div>
                <div class="col-lg-4 mb-4 mb-lg-0">
                    <h5 class="fw-bold mb-3">Enlaces rápidos</h5>
                    <ul class="list-unstyled">
                        <li class="mb-2"><a th:href="@{/inicio}" class="text-light text-decoration-none">Inicio</a></li>
                        <li class="mb-2"><a th:href="@{/galeria}" class="text-light text-decoration-none">Galería</a>
                        </li>
                        <li class="mb-2"><a th:href="@{/empresa}" class="text-light text-decoration-none">La Empresa</a>
                        </li>
                        <li class="mb-2"><a th:href="@{/servicios}"
                                class="text-light text-decoration-none">Servicios</a></li>
                        <li class="mb-2"><a th:href="@{/contacto}" class="text-light text-decoration-none">Contacto</a>
                        </li>
                    </ul>
                </div>
                <div class="col-lg-4">
                    <h5 class="fw-bold mb-3">Contáctenos</h5>
                    <p><i class="bi bi-telephone me-2"></i> 924 353 323</p>
                    <p><i class="bi bi-geo-alt me-2"></i> CALLE. 21 DE OCTUBRE # 1349<br>FLORENCIA DE MORA - TRUJILLO
                    </p>
                    <div class="d-flex social-icons mt-3">
                        <a href="https://www.facebook.com/profile.php?id=61555686907576" target="_blank"
                            rel="noopener noreferrer" class="text-light me-3">
                            <i class="bi bi-facebook fs-4"></i>
                        </a>
                        <a href="https://www.instagram.com/" target="_blank" rel="noopener noreferrer"
                            class="text-light me-3">
                            <i class="bi bi-instagram fs-4"></i>
                        </a>
                        <a href="https://www.linkedin.com/in/julio-nunja-alfaro-b2905b1b9/" target="_blank"
                            rel="noopener noreferrer" class="text-light">
                            <i class="bi bi-linkedin fs-4"></i>
                        </a>
                    </div>
                </div>
            </div>
            <hr class="my-4">
            <div class="text-center">
                <p class="mb-0">Servicios Moroni SCRL - Todos los derechos reservados &copy; 2025</p>
            </div>
        </div>
    </footer>
</div>

<!-- Flechita scroll to top -->
<div th:fragment="flechita">
    <button id="scrollToTopBtn" class="btn btn-primary position-fixed bottom-0 end-0 m-3 d-none">
        <i class="bi bi-arrow-up-circle-fill"></i>
    </button>
</div>